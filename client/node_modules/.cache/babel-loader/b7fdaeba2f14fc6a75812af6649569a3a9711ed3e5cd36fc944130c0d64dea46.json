{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfilePage=()=>{const[userData,setUserData]=useState(null);const[error,setError]=useState(\"\");useEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){setError(\"לא מחובר\");return;}fetch(\"/api/profile\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{if(!res.ok)throw new Error(\"שגיאה בקבלת הנתונים או שאין הרשאה\");return res.json();}).then(data=>setUserData(data)).catch(err=>setError(err.message));},[]);if(error)return/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error});if(!userData)return/*#__PURE__*/_jsx(\"p\",{children:\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9\\u05DD...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u05D4\\u05E4\\u05E8\\u05D5\\u05E4\\u05D9\\u05DC \\u05E9\\u05DC\\u05D9\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9:\"}),\" \",userData.user_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05E7\\u05D5\\u05D3 \\u05D1\\u05D9\\u05EA \\u05E1\\u05E4\\u05E8:\"}),\" \",userData.school_id]})]});};export default ProfilePage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","ProfilePage","userData","setUserData","error","setError","token","localStorage","getItem","fetch","method","headers","Authorization","concat","then","res","ok","Error","json","data","catch","err","message","style","color","children","className","user_name","school_id"],"sources":["C:/QuizQuest/client/src/pages/Leaderboard/LeaderboardPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst ProfilePage = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      setError(\"לא מחובר\");\r\n      return;\r\n    }\r\n\r\n    fetch(\"/api/profile\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(\"שגיאה בקבלת הנתונים או שאין הרשאה\");\r\n        return res.json();\r\n      })\r\n      .then((data) => setUserData(data))\r\n      .catch((err) => setError(err.message));\r\n  }, []);\r\n\r\n  if (error) return <p style={{ color: \"red\" }}>{error}</p>;\r\n  if (!userData) return <p>טוען נתונים...</p>;\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <h2>הפרופיל שלי</h2>\r\n      <p><strong>שם משתמש:</strong> {userData.user_name}</p>\r\n      <p><strong>קוד בית ספר:</strong> {userData.school_id}</p>\r\n      {/* תוכל להוסיף פה שדות נוספים בעתיד */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVD,QAAQ,CAAC,UAAU,CAAC,CACpB,OACF,CAEAI,KAAK,CAAC,cAAc,CAAE,CACpBC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAChC,CACF,CAAC,CAAC,CACCQ,IAAI,CAAEC,GAAG,EAAK,CACb,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,mCAAmC,CAAC,CACjE,MAAO,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CACnB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,EAAKhB,WAAW,CAACgB,IAAI,CAAC,CAAC,CACjCC,KAAK,CAAEC,GAAG,EAAKhB,QAAQ,CAACgB,GAAG,CAACC,OAAO,CAAC,CAAC,CAC1C,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIlB,KAAK,CAAE,mBAAON,IAAA,MAAGyB,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAC,QAAA,CAAErB,KAAK,CAAI,CAAC,CACzD,GAAI,CAACF,QAAQ,CAAE,mBAAOJ,IAAA,MAAA2B,QAAA,CAAG,kEAAc,CAAG,CAAC,CAE3C,mBACEzB,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B3B,IAAA,OAAA2B,QAAA,CAAI,+DAAW,CAAI,CAAC,cACpBzB,KAAA,MAAAyB,QAAA,eAAG3B,IAAA,WAAA2B,QAAA,CAAQ,8CAAS,CAAQ,CAAC,IAAC,CAACvB,QAAQ,CAACyB,SAAS,EAAI,CAAC,cACtD3B,KAAA,MAAAyB,QAAA,eAAG3B,IAAA,WAAA2B,QAAA,CAAQ,2DAAY,CAAQ,CAAC,IAAC,CAACvB,QAAQ,CAAC0B,SAAS,EAAI,CAAC,EAEtD,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}