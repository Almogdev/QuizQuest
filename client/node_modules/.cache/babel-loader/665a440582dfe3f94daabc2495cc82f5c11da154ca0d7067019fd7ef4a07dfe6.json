{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./QuizGame.css\";import Texts from\"./Text\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuizGame=()=>{const[questions,setQuestions]=useState([]);const[currentIndex,setCurrentIndex]=useState(0);const[feedback,setFeedback]=useState(\"\");const[citizenCount,setCitizenCount]=useState(1);const CiviliansSprites=[require(\"../../assets/civ1.png\"),require(\"../../assets/civ2.png\"),require(\"../../assets/civ3.png\")];useEffect(()=>{const fetchQuestions=async()=>{try{const res=await fetch(\"/api/questions/1\");const data=await res.json();setQuestions(data);}catch(err){console.error(\"Failed to fetch questions:\",err);}};fetchQuestions();},[]);if(questions.length===0)return/*#__PURE__*/_jsx(\"div\",{children:\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E9\\u05D0\\u05DC\\u05D5\\u05EA...\"});const currentQuestion=questions[currentIndex];const handleAnswerClick=index=>{if(index===currentQuestion.correctAnswerIndex){setFeedback(Texts.correct_answer_alert);setCitizenCount(prev=>Math.min(prev+1,CiviliansSprites.length));}else{setFeedback(Texts.wrong_answer_alert);setCitizenCount(prev=>Math.max(prev-1,1));}setTimeout(()=>{setFeedback(\"\");setCurrentIndex(prev=>prev+1<questions.length?prev+1:prev);},1200);};return/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-side\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"citizen-count-box\",children:[Texts.citizen_counter,\" \",citizenCount]}),/*#__PURE__*/_jsx(\"div\",{className:\"feedback-box\",children:feedback}),/*#__PURE__*/_jsx(\"div\",{className:\"game-frame\",children:/*#__PURE__*/_jsx(\"div\",{className:\"citizens-panel\",children:CiviliansSprites.slice(0,citizenCount).map((src,index)=>/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"\\u05D0\\u05D6\\u05E8\\u05D7 \".concat(index+1),className:\"citizen-img\"},index))})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-side\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question-box\",children:currentQuestion.question}),/*#__PURE__*/_jsx(\"div\",{className:\"answers-grid\",children:currentQuestion.answers.map((ans,idx)=>/*#__PURE__*/_jsx(\"button\",{className:\"answer-button\",onClick:()=>handleAnswerClick(idx),children:ans},idx))})]})]});};export default QuizGame;","map":{"version":3,"names":["React","useEffect","useState","Texts","jsx","_jsx","jsxs","_jsxs","QuizGame","questions","setQuestions","currentIndex","setCurrentIndex","feedback","setFeedback","citizenCount","setCitizenCount","CiviliansSprites","require","fetchQuestions","res","fetch","data","json","err","console","error","length","children","currentQuestion","handleAnswerClick","index","correctAnswerIndex","correct_answer_alert","prev","Math","min","wrong_answer_alert","max","setTimeout","className","citizen_counter","slice","map","src","alt","concat","question","answers","ans","idx","onClick"],"sources":["D:/QuizQuest/QuizQuest/client/src/components/QuizGame/QuizGame.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./QuizGame.css\";\r\nimport Texts from \"./Text\";\r\n\r\nconst QuizGame = () => {\r\n    const [questions, setQuestions] = useState([]);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [feedback, setFeedback] = useState(\"\");\r\n    const [citizenCount, setCitizenCount] = useState(1);\r\n\r\n    const CiviliansSprites = [\r\n        require(\"../../assets/civ1.png\"),\r\n        require(\"../../assets/civ2.png\"),\r\n        require(\"../../assets/civ3.png\"),\r\n    ];\r\n\r\n    useEffect(() => {\r\n        const fetchQuestions = async () => {\r\n            try {\r\n                const res = await fetch(\"/api/questions/1\");\r\n                const data = await res.json();\r\n                setQuestions(data);\r\n            } catch (err) {\r\n                console.error(\"Failed to fetch questions:\", err);\r\n            }\r\n        };\r\n\r\n        fetchQuestions();\r\n    }, []);\r\n\r\n    if (questions.length === 0) return <div>טוען שאלות...</div>;\r\n\r\n    const currentQuestion = questions[currentIndex];\r\n\r\n    const handleAnswerClick = (index) => {\r\n        if (index === currentQuestion.correctAnswerIndex) {\r\n            setFeedback(Texts.correct_answer_alert);\r\n            setCitizenCount((prev) => Math.min(prev + 1, CiviliansSprites.length));\r\n        } else {\r\n            setFeedback(Texts.wrong_answer_alert);\r\n            setCitizenCount((prev) => Math.max(prev - 1, 1));\r\n        }\r\n\r\n        setTimeout(() => {\r\n            setFeedback(\"\");\r\n            setCurrentIndex((prev) =>\r\n                prev + 1 < questions.length ? prev + 1 : prev\r\n            );\r\n        }, 1200);\r\n    };\r\n\r\n    return (\r\n        <div className=\"quiz-container\">\r\n            {/* צד שמאל */}\r\n            <div className=\"left-side\">\r\n                <div className=\"info-panel\">\r\n                    <div className=\"citizen-count-box\">\r\n                        {Texts.citizen_counter} {citizenCount}\r\n                    </div>\r\n                    <div className=\"feedback-box\">{feedback}</div>\r\n                    <div className=\"game-frame\">\r\n                        <div className=\"citizens-panel\">\r\n                            {CiviliansSprites.slice(0, citizenCount).map((src, index) => (\r\n                                <img\r\n                                    key={index}\r\n                                    src={src}\r\n                                    alt={`אזרח ${index + 1}`}\r\n                                    className=\"citizen-img\"\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* צד ימין */}\r\n            <div className=\"right-side\">\r\n                <div className=\"question-box\">{currentQuestion.question}</div>\r\n                <div className=\"answers-grid\">\r\n                    {currentQuestion.answers.map((ans, idx) => (\r\n                        <button\r\n                            key={idx}\r\n                            className=\"answer-button\"\r\n                            onClick={() => handleAnswerClick(idx)}\r\n                        >\r\n                            {ans}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuizGame;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}